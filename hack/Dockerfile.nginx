FROM nginx:alpine

# Copy the UKI file to nginx html directory
COPY target/uki.efi /usr/share/nginx/html/feos.uki

# Add MIME type for .uki files
RUN echo "types {" > /etc/nginx/mime.types
RUN echo "    application/efi uki;" >> /etc/nginx/mime.types
RUN echo "}" >> /etc/nginx/mime.types

# Create a simple index page
RUN echo '<html><body><h1>FeOS UKI Server</h1><p><a href="/feos.uki">Download FeOS UKI (x86_64)</a></p></body></html>' > /usr/share/nginx/html/index.html

EXPOSE 80 
