FROM rust:1-bullseye

RUN apt-get update && apt-get upgrade -y && apt-get install -y \
    flex bison bc libelf-dev \
    cpio zstd \
    gperf \
    ninja-build \
    protobuf-compiler \
    libprotobuf-dev

RUN cargo new xyz; cd xyz; cargo fetch; cd ..; rm -rf xyz
RUN rustup component add clippy
RUN mkdir /feos
RUN mkdir /target
WORKDIR /feos